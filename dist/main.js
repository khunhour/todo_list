(()=>{"use strict";const e=e=>{const t=e.target.matches("[data-dropdown-button]");if(!t&&null!=e.target.closest("[data-dropdown]"))return;let n;t&&(function(e){let t=e.target.parentNode;if(null!=e.target.closest(".tile")){const e=document.querySelector(".project .option");e.classList.remove("hidden"),t.appendChild(e)}else if(null!=e.target.closest("li")){const e=document.querySelector(".list-todo .option");t.appendChild(e),e.classList.remove("hidden")}}(e),n=e.target.closest("[data-dropdown]"),setTimeout((function(){n.classList.toggle("active")}),0)),document.querySelectorAll("[data-dropdown].active").forEach((e=>{e!==n&&e.classList.remove("active")}))},t=e=>{let t=e.target.parentNode.parentNode,s=t.parentNode;n(t),!0===o()&&(c(),l()),function(e){const t=e.parentNode,n=document.getElementById("renameForm");let o=e.querySelector(".projectName").textContent;n.querySelector("input").value=o,t.insertBefore(n,e)}(s),d(),document.getElementById("projectRenameInput").focus(),s.classList.add("hidden")},n=e=>{e.classList.remove("active")},o=()=>!document.querySelector("#renameForm").classList.contains("hidden");function c(){const e=document.getElementById("renameForm"),t=document.querySelector(".project");e.classList.add("hidden"),t.appendChild(e)}const d=()=>{const e=document.querySelector("#renameForm");setTimeout((function(){e.classList.remove("hidden")}),0)},l=()=>{document.querySelector("div.hidden").classList.remove("hidden")},s=e=>{let t=e.target.closest(".tile"),n=t.dataset.project;if(t.classList.contains("selected")){const e=document.querySelector("#today"),t=e.querySelector("[data-name]");e.classList.add("selected"),m(t)}a(e),t.remove(),r(),h.splice(n,1),console.log(h)};function r(){let e=0;document.querySelectorAll(".project .tile").forEach((t=>{let n=t.dataset.project;t.dataset.project=e,h[n].dataProject=e,e++})),h.sort(((e,t)=>e.dataProject-t.dataProject))}function a(e){if(null!=e.target.closest(".tile")){const e=document.querySelector(".project .option");e.classList.add("hidden"),document.querySelector(".project").appendChild(e)}else if(null!=e.target.closest("li")){const e=document.querySelector("li .option");e.classList.add("hidden"),document.querySelector(".list-todo").appendChild(e)}}const i=e=>{document.querySelector("#listForm");const t=document.querySelector("#listInput"),n=document.querySelector("#listInputDetail");t.value="",n.value="",function(e){const t=document.querySelector("#listForm"),n=document.querySelector("ul");t.classList.add("hidden"),n.appendChild(t)}()};let u=4;function m(e){const t=document.querySelector(".title");console.log(t),t.textContent=e.textContent}function p(e){e.target.matches("[data-drag]")&&(e.target.parentNode.draggable=!0)}function g(e){e.addEventListener("dragstart",(()=>{e.classList.add("dragging")})),e.addEventListener("dragend",(()=>{e.classList.remove("dragging"),e.draggable=!1,r(),console.log(h)}))}function f(e){e.preventDefault();const t=document.querySelector(".project"),n=document.querySelector(".dragging"),o=document.querySelector("#projectForm"),c=(d=e.clientY,[...document.querySelectorAll(".project .tile:not(.dragging)")].reduce(((e,t)=>{const n=t.getBoundingClientRect(),o=d-n.top-n.height/2;return o<0&&o>e.offset?{offset:o,element:t}:e}),{offset:Number.NEGATIVE_INFINITY}).element);var d;null==c?t.insertBefore(n,o):t.insertBefore(n,c)}let h=[{dataProject:0,name:"Getting Started",taskNum:0,taskList:[{dataProject:0,id:0,title:"try this",details:"",completed:!1,important:!1},{dataProject:0,id:0,title:"fsdf",details:"sdfsdf",completed:!1,important:!1}]},{dataProject:1,name:"The Odin Project",taskNum:0,taskList:[{dataProject:1,id:2,title:"try this",details:"",completed:!1,important:!1},{dataProject:1,id:3,title:"fsdf",details:"sdfsdf",completed:!1,important:!1}]},{dataProject:2,name:"Task",taskNum:0,taskList:[{dataProject:2,id:3,title:"try this",details:"",completed:!1,important:!1}]}];const L=e=>{let t=document.getElementById("projectInput").value,n=q();const o=y(n,t);h.push(o),console.log(h),E(t),S(),e.preventDefault()},y=(e,t)=>{const n=[];return{dataProject:e,name:t,taskList:n,taskNum:n.length}},v=()=>{document.querySelector("#projectForm").classList.remove("hidden"),document.getElementById("projectInput").focus()},S=()=>{const e=document.querySelector("#projectForm");document.querySelector("#projectInput").value="",e.classList.add("hidden")},E=e=>{let t=q();const n=document.querySelector(".project"),o=document.querySelector("#projectForm"),c=document.createElement("div");c.setAttribute("data-project",`${t}`),c.classList.add("tile"),n.insertBefore(c,o);const d=j("menu");d.setAttribute("data-drag",""),c.appendChild(d);const l=document.createElement("div");l.classList.add("projectInfo"),l.tabIndex="0",c.appendChild(l);const s=document.createElement("div");s.classList.add("projectName"),s.textContent=e,l.appendChild(s);const r=document.createElement("div");r.classList.add("editContainer"),r.setAttribute("data-dropdown",""),c.appendChild(r);const a=j("more_vert");a.setAttribute("data-dropdown-button",""),r.appendChild(a),g(c)},j=e=>{const t=document.createElement("span");return t.classList.add("material-icons-round"),t.textContent=e,t},q=()=>document.querySelectorAll("[data-project]").length;function C(e){let t=e.target.closest(".home .tile"),n=e.target.closest(".project .tile");if(null!=t){const e=t.querySelector("[data-name]");k(t),m(e)}else{if(null==n)return;{const e=n.querySelector(".projectName");k(n),m(e)}}}const k=e=>{document.querySelector(".selected").classList.remove("selected"),e.classList.add("selected")};document.querySelector("#addList").addEventListener("click",(()=>{document.querySelector("#listForm").classList.remove("hidden")})),document.querySelector(".listCancelBtn").addEventListener("click",i),document.getElementById("listForm").addEventListener("submit",(function(e){let t=document.querySelector(".selected").dataset.project,n=document.getElementById("listInput").value,o=document.getElementById("listInputDetail").value,c=u;const d=((e,t,n,o,c,d)=>({dataProject:e,id:t,title:n,details:o,completed:!1,important:!1}))(t,c,n,o);h[t].taskList.push(d),console.log(h),function(e,t,n){const o=document.querySelector("ul"),c=document.createElement("li");c.id=e,o.appendChild(c);const d=document.createElement("div");d.classList.add("unchecked"),c.appendChild(d);const l=document.createElement("div");l.classList.add("list-details"),c.appendChild(l);const s=document.createElement("p");s.classList.add("taskTitle"),s.textContent=t,l.appendChild(s);const r=document.createElement("p");r.classList.add("taskDetails","hidden"),r.textContent=n,l.appendChild(r);const a=document.createElement("div");a.classList.add("list-right"),c.appendChild(a);const i=j("star_outline");i.classList.add("star-outline"),a.appendChild(i);const u=j("star");u.classList.add("important","listHidden"),a.appendChild(u);const m=document.createElement("div");m.dataset.dropdown="",m.classList.add("editContainer"),a.appendChild(m);const p=j("more_vert");p.dataset.dropdownButton="",m.appendChild(p),console.log(h)}(c,n,o),i(),u++,e.preventDefault()})),document.querySelector(".edit-listCancelBtn").addEventListener("click",(function(){})),document.querySelector(".list-todo").addEventListener("click",(function(e){e.target;let t=e.target.matches(".star-outline"),o=e.target.matches(".unchecked"),c=e.target.matches("[data-title]"),d=e.target.matches("#listDelete"),l=e.target.matches("#listEdit");if(t)!function(e){e.target.classList.toggle("listHidden"),e.target.nextElementSibling.classList.toggle("listHidden");let t=(o=e.target.closest("li").id,console.log("id"+o),h.reduce(((e,t)=>{let n=t.taskList.find((e=>e.id==o));return null!=n&&(e=n),e}),{})),n=t.important;var o;t.important=!n,console.log(n),console.log("toggleImportant"),console.log(h)}(e);else if(o)!function(e){let t=e.target,n=e.target.nextElementSibling,o=e.target.closest("li");t.classList.toggle("checked"),n.classList.toggle("lineThrough"),o.classList.toggle("fade")}(e);else if(c)!function(e){let t=e.target.nextElementSibling;setTimeout((function(){t.classList.toggle("hidden")}),0)}(e);else if(d)!function(e){let t=e.target.closest("li");a(e),t.remove()}(e);else{if(!l)return;!function(e){let t=e.target.parentNode.parentNode;n(t),function(e){let t=e.target.closest("li"),n=t.parentNode;t.classList.add("hidden");const o=document.getElementById("editListForm");o.classList.remove("hidden"),n.insertBefore(o,t)}(e)}(e)}})),document.querySelector(".projectCancelBtn").addEventListener("click",S),document.getElementById("addProject").addEventListener("click",v),document.getElementById("projectForm").addEventListener("submit",L),document.querySelector(".leftPanel").addEventListener("click",C),function(){document.addEventListener("click",e);const n=document.querySelector(".project .option");n.firstElementChild.addEventListener("click",t),n.lastElementChild.addEventListener("click",s),document.querySelector(".rename-renameBtn").addEventListener("click",(function(e){(e=>{const t=document.querySelector(".project .tile.hidden");let n=document.getElementById("projectRenameInput").value;const o=t.querySelector(".projectName");o.textContent=n;let d=t.dataset.project;h[d].name=n,l(),m(o),c()})(),e.preventDefault()})),document.querySelector(".rename-cancelBtn").addEventListener("click",(function(){c(),l()}))}(),function(){const e=document.querySelector(".project");e.addEventListener("mousedown",p),document.querySelectorAll(".project .tile").forEach((e=>{g(e)})),e.addEventListener("dragover",f)}(),console.log("yo maama")})();