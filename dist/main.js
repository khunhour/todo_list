(()=>{"use strict";function e(e){const t=document.querySelector(".title");console.log(t),t.textContent=e.textContent}function t(e){console.log(e.currentTarget.parentNode.dataset.project)}function n(e){let t=e.target,n=e.target.parentNode.parentNode.lastElementChild,o=e.target.closest("li");t.classList.toggle("checked"),n.classList.toggle("lineThrough"),o.classList.toggle("fade")}const o=e=>{let t=e.target.parentNode.parentNode,n=t.parentNode;n.dataset.project,c(t),!0===d()&&(i(),s()),r(n),a(),document.getElementById("projectRenameInput").focus(),n.classList.add("hidden")},c=e=>{e.classList.remove("active")},d=()=>null!=document.querySelector("#renameForm"),r=e=>{let t=e.querySelector(".projectName").textContent;const n=document.createElement("form");n.setAttribute("id","renameForm"),n.setAttribute("autocomplete","off"),n.classList.add("hidden"),e.parentNode.insertBefore(n,e);const o=document.createElement("div");o.classList.add("projectIcon"),n.appendChild(o);const c=h("menu");o.appendChild(c);const d=document.createElement("div");d.classList.add("inputField"),n.appendChild(d);const r=document.createElement("input");r.type="text",r.id="projectRenameInput",r.value=t,d.appendChild(r);const a=document.createElement("div");a.classList.add("formButtons"),d.appendChild(a);const u=document.createElement("input");u.classList.add("rename-renameBtn"),u.type="submit",u.value="Rename",a.appendChild(u);const m=document.createElement("input");m.classList.add("rename-cancelBtn"),m.type="button",m.value="Cancel",a.appendChild(m),u.addEventListener("click",(function(t){l(e),t.preventDefault()})),m.addEventListener("click",(function(){i(),s()}))},a=()=>{const e=document.querySelector("#renameForm");setTimeout((function(){e.classList.remove("hidden")}),1)},l=t=>{let n=document.getElementById("projectRenameInput").value;const o=t.querySelector(".projectName");o.textContent=n,s(),e(o),i()},s=()=>{document.querySelector("div.hidden").classList.remove("hidden")},i=()=>{document.querySelector("#renameForm").remove()},u=t=>{let n=t.target.parentNode.parentNode.parentNode.dataset.project;const o=document.querySelector(`[data-project="${n}"]`);if(o.classList.contains("selected")){const t=document.querySelector("#today"),n=t.querySelector("[data-name]");t.classList.add("selected"),e(n)}o.remove(),m(n)},m=e=>{document.querySelectorAll("[data-project]").forEach((t=>{t.dataset.project>e&&(t.dataset.project=t.dataset.project-1)}))};function p(e){e.target.matches("[data-drag]")&&(e.target.parentNode.draggable=!0)}function g(e){e.addEventListener("dragstart",(()=>{e.classList.add("dragging")})),e.addEventListener("dragend",(()=>{e.classList.remove("dragging"),e.draggable=!1}))}function v(e){e.preventDefault();const t=document.querySelector(".project"),n=document.querySelector(".dragging"),o=document.querySelector("#projectForm"),c=(d=e.clientY,[...document.querySelectorAll(".project .tile:not(.dragging)")].reduce(((e,t)=>{const n=t.getBoundingClientRect(),o=d-n.top-n.height/2;return o<0&&o>e.offset?{offset:o,element:t}:e}),{offset:Number.NEGATIVE_INFINITY}).element);var d;null==c?t.insertBefore(n,o):t.insertBefore(n,c)}const L=e=>{let t=document.getElementById("projectInput").value;f(t),y(),e.preventDefault()},E=()=>{document.querySelector("#projectForm").classList.remove("hidden"),document.getElementById("projectInput").focus()},y=()=>{const e=document.querySelector("#projectForm");document.querySelector("#projectInput").value="",e.classList.add("hidden")},f=e=>{let n=S();const c=document.querySelector(".project"),d=document.querySelector("#projectForm"),r=document.createElement("div");r.setAttribute("data-project",`${n}`),r.classList.add("tile"),c.insertBefore(r,d);const a=h("menu");a.setAttribute("data-drag",""),r.appendChild(a);const l=document.createElement("div");l.classList.add("projectInfo"),l.tabIndex="0",r.appendChild(l);const s=document.createElement("div");s.classList.add("projectName"),s.textContent=e,l.appendChild(s);const i=document.createElement("div");i.classList.add("editProject"),i.setAttribute("data-dropdown",""),r.appendChild(i);const m=h("more_vert");m.setAttribute("data-dropdown-button",""),i.appendChild(m);const p=document.createElement("div");p.classList.add("option"),i.appendChild(p);const v=document.createElement("button"),L=document.createElement("button");v.textContent="Rename",L.textContent="Delete",p.appendChild(v),p.appendChild(L),g(r),v.addEventListener("click",o),L.addEventListener("click",u),l.addEventListener("click",t)},h=e=>{const t=document.createElement("span");return t.classList.add("material-icons-round"),t.textContent=e,t},S=()=>document.querySelectorAll("[data-project]").length;function q(t){let n=t.target.closest(".home .tile"),o=t.target.closest(".project .tile");if(null!=n){const t=n.querySelector("[data-name]");j(n),e(t)}else{if(null==o)return;{const t=o.querySelector(".projectName");j(o),e(t)}}}const j=e=>{document.querySelector(".selected").classList.remove("selected"),e.classList.add("selected")};document.querySelector("#addList").addEventListener("click",(()=>{document.querySelector("#listForm").classList.remove("hidden")})),document.querySelector(".listCancelBtn").addEventListener("click",(e=>{const t=document.querySelector("#listForm");document.querySelector("#listInput").value="",t.classList.add("hidden")})),document.getElementById("listForm").addEventListener("submit",(function(e){console.log()})),document.querySelectorAll(".unchecked").forEach((e=>{e.addEventListener("click",n)})),document.querySelector(".star-outline").addEventListener("click",(function(e){let t=e.target;t.classList.toggle("listHidden");let n=e.target.nextElementSibling;n.classList.toggle("listHidden"),console.log(n),console.log(t)})),document.querySelector(".projectCancelBtn").addEventListener("click",y),document.getElementById("addProject").addEventListener("click",E),document.getElementById("projectForm").addEventListener("submit",L),document.querySelector(".leftPanel").addEventListener("click",q),document.querySelectorAll(".option").forEach((e=>{e.firstElementChild.addEventListener("click",o),e.lastElementChild.addEventListener("click",u)})),document.addEventListener("click",(e=>{const t=e.target.matches("[data-dropdown-button]");if(!t&&null!=e.target.closest("[data-dropdown]"))return;let n;t&&(n=e.target.closest("[data-dropdown]"),n.classList.toggle("active")),document.querySelectorAll("[data-dropdown].active").forEach((e=>{e!==n&&e.classList.remove("active")}))})),function(){const e=document.querySelector(".project");e.addEventListener("mousedown",p),document.querySelectorAll(".project .tile").forEach((e=>{g(e)})),e.addEventListener("dragover",v)}(),console.log("yo maama")})();